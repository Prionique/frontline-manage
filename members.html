<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontline Manage</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&amp;family=Jura:wght@300..700&amp;family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.10.0/core/main.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.10.0/daygrid/main.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css" rel="stylesheet">

    <link rel="stylesheet" href="style/style.css">
    
</head>
<body>
    
    <div class="container py-5">
        <div class="d-flex">
        <div class="mx-auto">
            <nav aria-label="breadcrumb" class="breadcrumb-wrapper">
                <ol class="breadcrumb breadcrumb-light">
                    <li class="breadcrumb-item"><a href="index.html">Manage</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Members</li>
                </ol>
            </nav>
        </div>
    </div>
        <div style="margin: 0 auto; width: 50%;">
            <button id="saveBtn" class="btn btn-primary" style="width: 100%;" onclick="window.location.href = 'add-user.html'">Add New User</button>
        </div>
        <br>
        <div style="margin: 0 auto; width:50%;">
            <div id="trainingList" class="trainingList">
                    <div class="training-card" data-user-id="Андрей Новатор" onclick="window.location.href = 'info.html?id=9675'">
                        Андрей Новатор
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Антон Калыпаков" onclick="window.location.href = 'info.html?id=4531'">
                        Антон Калыпаков
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Артём" onclick="window.location.href = 'info.html?id=1356'">
                        Артём
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Бибик" onclick="window.location.href = 'info.html?id=1565'">
                        Бибик
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Влад" onclick="window.location.href = 'info.html?id=2055'">
                        Влад
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Владик" onclick="window.location.href = 'info.html?id=1623'">
                        Владик
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Даня" onclick="window.location.href = 'info.html?id=2671'">
                        Даня
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Даня Розумовский" onclick="window.location.href = 'info.html?id=2990'">
                        Даня Розумовский
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Денис" onclick="window.location.href = 'info.html?id=7296'">
                        Денис
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Егор" onclick="window.location.href = 'info.html?id=6576'">
                        Егор
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Илья" onclick="window.location.href = 'info.html?id=6264'">
                        Илья
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Лёша" onclick="window.location.href = 'info.html?id=8498'">
                        Лёша
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Миша" onclick="window.location.href = 'info.html?id=9124'">
                        Миша
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Настя" onclick="window.location.href = 'info.html?id=1879'">
                        Настя
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Рома" onclick="window.location.href = 'info.html?id=4470'">
                        Рома
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Саша" onclick="window.location.href = 'info.html?id=3992'">
                        Саша
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Саша Демченко" onclick="window.location.href = 'info.html?id=2777'">
                        Саша Демченко
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                
                    <div class="training-card" data-user-id="Шура" onclick="window.location.href = 'info.html?id=9023'">
                        Шура
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                </div>
            <br>
            <!-- Save button -->
            
        </div>
    </div>
    <!-- Modal for user data -->
    <!-- Modal for user add -->
<div class="modal fade" id="userDataModal" tabindex="-1" aria-labelledby="userAddModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="userAddModalLabel">Add User</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Form to add user -->
                <form id="addUserForm">
                    <div class="mb-3">
                        <label for="username" class="form-label">User ID</label>
                        <input type="text" class="form-control" id="userId" value="${generateRandomID()}" readonly="" required="">
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="kickboxCheckbox" name="kickbox">
                        <label class="form-check-label" for="kickboxCheckbox">Kickbox</label>
                        <input type="checkbox" class="form-check-input" id="mmaCheckbox" name="mma">
                        <label class="form-check-label" for="mmaCheckbox">MMA</label>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="kickboxCostSwitch" name="kickboxCost">
                        <label class="form-check-label" for="kickboxCostSwitch">Kickbox Cost</label>
                        <input type="checkbox" class="form-check-input" id="mmaCostSwitch" name="mmaCost">
                        <label class="form-check-label" for="mmaCostSwitch">MMA Cost</label>
                    </div>
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="membershipSwitch">
                        <label class="form-check-label" for="membershipSwitch">Free Membership</label>
                    </div>
                    <button type="submit" class="btn btn-primary">Save</button>
                </form>
            </div>
        </div>
    </div>
</div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getDatabase, get, set, ref } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js";

        // Initialize Firebase
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAkknZyH3N6-ZMm31c8o3zFQSv8s45YMDY",
            authDomain: "frontline-sport.firebaseapp.com",
            databaseURL: "https://frontline-sport-default-rtdb.firebaseio.com",
            projectId: "frontline-sport",
            storageBucket: "frontline-sport.appspot.com",
            messagingSenderId: "446981204542",
            appId: "1:446981204542:web:23010639c79d8a6cef7f6f",
            measurementId: "G-4S6SFCJ90N"
        };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        async function displayUsers() {
    const trainingList = document.getElementById("trainingList");
    const trainingRef = ref(db, 'users/');
    const snapshot = await get(trainingRef);
    const users = snapshot.val();
    let cardsHTML = '';

    if (users) {
        await Promise.all(Object.keys(users).map(async userId => {
            if (users[userId].dir) {
                const sn = await get(ref(db, `users/${userId}`));
                const a = sn.val().id;
                cardsHTML += `
                    <div class="training-card" data-user-id="${userId}" onclick="window.location.href = 'info.html?id=${a}'">
                        ${userId}
                        <span class="arrow"><i class="bi bi-arrow-right"></i></span>
                    </div>
                `;
            }
        }));

        trainingList.innerHTML = cardsHTML;

        document.querySelectorAll('.training-card').forEach(card => {
            card.addEventListener('click', () => {
                const userId = card.getAttribute('data-user-id');
                console.log(userId);
            });
        });
    }
}

displayUsers();





    </script>


</body></html>